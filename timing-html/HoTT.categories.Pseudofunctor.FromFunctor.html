<html>
<head>
<title>FromFunctor.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for FromFunctor.v</h1>

<div class="code" title="File: FromFunctor.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(** * Functors to cat are pseudofunctors *)</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 1
Time: 0.011s">
<div class="time" style="width: 3.914590747331%"></div>
<pre>Require Import Category.Core Functor.Core NaturalTransformation.Core.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 1
Time: 0.036s">
<div class="time" style="width: 12.811387900356%"></div>
<pre>
Require Import Functor.Composition.Core NaturalTransformation.Composition.Core NaturalTransformation.Composition.Laws.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 2
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import Functor.Identity.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 3
Time: 0.037s">
<div class="time" style="width: 13.167259786477%"></div>
<pre>
Require Import Pseudofunctor.Core.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 4
Time: 0.017s">
<div class="time" style="width: 6.0498220640569%"></div>
<pre>
Require Import Cat.Core.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import FunctorCategory.Core.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 6
Time: 0.001s">
<div class="time" style="width: 0.355871886121%"></div>
<pre>
Require Import FunctorCategory.Morphisms NaturalTransformation.Isomorphisms.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 7
Time: 0.002s">
<div class="time" style="width: 0.71174377224199%"></div>
<pre>
Require Import Category.Morphisms NaturalTransformation.Paths.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 8
Time: 0.002s">
<div class="time" style="width: 0.71174377224199%"></div>
<pre>
Require Import Basics.PathGroupoids Basics.Trunc.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 9
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Set Universe Polymorphism.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 11
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Set Implicit Arguments.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 12
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Generalizable All Variables.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Set Asymmetric Patterns.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 14
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 16
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope morphism_scope.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 17
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Every functor to Cat is a pseudofunctor *)</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 19
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section of_functor.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 19
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context `{Funext}.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 20
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Variable C : PreCategory.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 21
Time: 0.002s">
<div class="time" style="width: 0.71174377224199%"></div>
<pre>
  Context `{HP : forall C D, P C -&gt; P D -&gt; IsHSet (Functor C D)}.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 22
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Notation cat := (@sub_pre_cat _ P HP).</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 24
Time: 0.002s">
<div class="time" style="width: 0.71174377224199%"></div>
<pre>

  Variable F : Functor C cat.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 26
Time: 0.004s">
<div class="time" style="width: 1.423487544484%"></div>
<pre>

  Definition path_functor_helper A B (F1 F2 : Functor A B) (pf1 pf2 : F1 = F2)
  : P A -&gt; P B -&gt; pf1 = pf2
    := fun PA PB =&gt; @path_ishprop _ (@HP A B PA PB F1 F2) _ _.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Hint Extern 0 (P ?x.1) =&gt; exact x.2.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Tactic Notation "transitivity_idtoiso" open_constr(hyp) :=
    lazymatch goal with
      | [ |- ?f (Category.Morphisms.idtoiso ?C _) = _ ] =&gt; etransitivity (f (Category.Morphisms.idtoiso C hyp));
                                       [ do 2 refine (ap _ _); (* https://coq.inria.fr/bugs/show_bug.cgi?id=3626 *)
                                         apply path_functor_helper;
                                         simpl; trivial
                                       | path_natural_transformation ]
    end.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 41
Time: 0.001s">
<div class="time" style="width: 0.355871886121%"></div>
<pre>

  Local Ltac pseudofunctor_t :=
    intros;
    unfold natural_transformation_of_natural_isomorphism;
    rewrite ?idtoiso_whisker_r, ?idtoiso_whisker_l;
    repeat (
        let C := match goal with |- @paths (@NaturalTransformation ?C ?D ?F ?G) _ _ =&gt; constr:(C -&gt; D)%category end in
        first [ eapply (@iso_moveL_pV C)
              | eapply (@iso_moveL_Vp C)
              | eapply (@iso_moveL_pM C)
              | eapply (@iso_moveL_Mp C) ];
        simpl
      );
    rewrite ?idtoiso_inv;
    simpl;
    change @NaturalTransformation.Composition.Core.compose
    with (fun C D F G H =&gt; Category.Core.compose (C := C -&gt; D) (s := F) (d := G) (d' := H));
    cbv beta;
    rewrite ?idtoiso_comp;
    first [ transitivity_idtoiso (Functor.Composition.Laws.left_identity _)
          | transitivity_idtoiso ((Functor.Composition.Laws.left_identity _)^)
          | transitivity_idtoiso (Functor.Composition.Laws.right_identity _)
          | transitivity_idtoiso ((Functor.Composition.Laws.right_identity _)^)
          | transitivity_idtoiso (Functor.Composition.Laws.associativity _ _ _)
          | transitivity_idtoiso ((Functor.Composition.Laws.associativity _ _ _)^) ];
    rewrite eta_idtoiso;
    simpl;
    rewrite ?ap_V, ?Functor.Composition.Laws.left_identity_fst, ?Functor.Composition.Laws.right_identity_fst, ?Functor.Composition.Laws.associativity_fst;
    try reflexivity.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 70
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* The following helpers were generated with
&lt;&lt;
intros.
    repeat match goal with
             | [ |- context[idtoiso ?C (?f ?x)] ] =&gt; generalize (f x); intro
             | [ |- context[MorphismOf ?F ?f] ] =&gt; generalize dependent (MorphismOf F f); repeat (let x := fresh "x" in intro x)
             | [ |- context[ObjectOf ?F ?f] ] =&gt; generalize dependent (ObjectOf F f); repeat (let x := fresh "x" in intro x)
           end.
    simpl in *.
    unfold SubPreCatCat.
    simpl in *.
    clear.
    destruct_head_hnf @sigT.
    simpl in *.
    repeat match goal with
             | [ H : _ |- _ ] =&gt; revert H
           end.
    intros H P.
&gt;&gt; *)

 </pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 92
Time: 0.041s">
<div class="time" style="width: 14.590747330961%"></div>
<pre>Lemma pseudofunctor_of_functor__composition_of
        {x0 x1 x2 x : PreCategory}
        {x7 x11 : Functor x0 x1}
        {x12 : x7 = x11}
        {x6 : Functor x0 x2} {x9 : Functor x2 x1}
        {x14 : x11 = (x9 o x6)%functor}
        {x4 : Functor x0 x} {x5 : Functor x x1}
        {x8 : x7 = (x5 o x4)%functor} {x10 : Functor x x2}
        {x13 : x6 = (x10 o x4)%functor} {x15 : x5 = (x9 o x10)%functor}
        (H0' : P x0) (H1' : P x1) (H2' : P x2) (H' : P x)
  : ((associator_1 x9 x10 x4)
       o ((idtoiso (x -&gt; x1) x15 : morphism _ _ _)
            oR x4
            o (idtoiso (x0 -&gt; x1) x8 : morphism _ _ _)))%natural_transformation
    = (x9
         oL (idtoiso (x0 -&gt; x2) x13 : morphism _ _ _)
         o ((idtoiso (x0 -&gt; x1) x14 : morphism _ _ _)
              o (idtoiso (x0 -&gt; x1) x12 : morphism _ _ _)))%natural_transformation.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 109
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 110
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear F.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 111
Time: 0.281s">
<div class="time" style="width: 100%"></div>
<pre>
    symmetry; simpl; pseudofunctor_t.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 112
Time: 0.099s">
<div class="time" style="width: 35.231316725979%"></div>
<pre>
  Qed.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 113
Time: 0.012s">
<div class="time" style="width: 4.270462633452%"></div>
<pre>

  Lemma pseudofunctor_of_functor__left_identity_of
        {x0 x : PreCategory}
        {x2 : Functor x x} {x3 : x2 = 1%functor}
        {x4 x5 : Functor x0 x} {x6 : x4 = x5} {x7 : x4 = (x2 o x5)%functor}
        (H0' : P x0) (H' : P x)
  : ((Category.Morphisms.idtoiso (x -&gt; x) x3 : morphism _ _ _)
       oR x5
       o (Category.Morphisms.idtoiso (x0 -&gt; x) x7 : morphism _ _ _))%natural_transformation
    = ((NaturalTransformation.Composition.Laws.left_identity_natural_transformation_2 x5)
         o (Category.Morphisms.idtoiso (x0 -&gt; x) x6 : morphism _ _ _))%natural_transformation.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 124
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear F.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 126
Time: 0.168s">
<div class="time" style="width: 59.786476868327%"></div>
<pre>
    simpl; pseudofunctor_t.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 127
Time: 0.07s">
<div class="time" style="width: 24.91103202847%"></div>
<pre>
  Qed.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 128
Time: 0.019s">
<div class="time" style="width: 6.7615658362989%"></div>
<pre>

  Lemma pseudofunctor_of_functor__right_identity_of
        {x0 x : PreCategory}
        {x4 : Functor x0 x0} {x5 : x4 = 1%functor}
        {x2 x3 : Functor x0 x} {x6 : x2 = x3} {x7 : x2 = (x3 o x4)%functor}
        (H0' : P x0) (H' : P x)
  : (x3
       oL (Category.Morphisms.idtoiso (x0 -&gt; x0) x5 : morphism _ _ _)
       o (Category.Morphisms.idtoiso (x0 -&gt; x) x7 : morphism _ _ _))%natural_transformation
    = ((NaturalTransformation.Composition.Laws.right_identity_natural_transformation_2 x3)
         o (Category.Morphisms.idtoiso (x0 -&gt; x) x6 : morphism _ _ _))%natural_transformation.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 140
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear F.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 141
Time: 0.174s">
<div class="time" style="width: 61.921708185053%"></div>
<pre>
    simpl; pseudofunctor_t.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 142
Time: 0.049s">
<div class="time" style="width: 17.437722419929%"></div>
<pre>
  Qed.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 143
Time: 0.047s">
<div class="time" style="width: 16.725978647687%"></div>
<pre>

  Definition pseudofunctor_of_functor : Pseudofunctor C
    := Build_Pseudofunctor
         C
         (fun x =&gt; pr1 (F x))
         (fun s d m =&gt; morphism_of F m)
         (fun s d d' m0 m1 =&gt; Category.Morphisms.idtoiso (_ -&gt; _) (composition_of F _ _ _ m1 m0))
         (fun x =&gt; Category.Morphisms.idtoiso (_ -&gt; _) (identity_of F x))
         (fun w x y z _ _ _ =&gt; pseudofunctor_of_functor__composition_of (F w).2 (F z).2 (F y).2 (F x).2)
         (fun x y _ =&gt; pseudofunctor_of_functor__left_identity_of (F x).2 (F y).2)
         (fun x y _ =&gt; pseudofunctor_of_functor__right_identity_of (F x).2 (F y).2).</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 154
Time: 0.035s">
<div class="time" style="width: 12.455516014235%"></div>
<pre>
End of_functor.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 155
Time: 0.003s">
<div class="time" style="width: 1.067615658363%"></div>
<pre>

Definition FunctorToCat `{Funext} {C} `{HP : forall C D, P C -&gt; P D -&gt; IsHSet (Functor C D)}
  := Functor C (@sub_pre_cat _ P HP).</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 158
Time: 0.001s">
<div class="time" style="width: 0.355871886121%"></div>
<pre>
Identity Coercion functor_to_cat_id : FunctorToCat &gt;-&gt; Functor.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 159
Time: 0.003s">
<div class="time" style="width: 1.067615658363%"></div>
<pre>
Definition pseudofunctor_of_functor_to_cat `(F : @FunctorToCat H C P HP)
  := @pseudofunctor_of_functor _ C P HP F.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 161
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Coercion pseudofunctor_of_functor_to_cat : FunctorToCat &gt;-&gt; Pseudofunctor.</pre>
</div>
<div class="code" title="File: FromFunctor.v
Line: 164
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>


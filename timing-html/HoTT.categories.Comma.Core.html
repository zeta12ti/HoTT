<html>
<head>
<title>Core.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Core.v</h1>

<div class="code" title="File: Core.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(** * Comma categories *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 1
Time: 0.01s">
<div class="time" style="width: 11.904761904762%"></div>
<pre>Require Import Category.Core Functor.Core.</pre>
</div>
<div class="code" title="File: Core.v
Line: 1
Time: 0.069s">
<div class="time" style="width: 82.142857142857%"></div>
<pre>
Require Import InitialTerminalCategory.Core InitialTerminalCategory.Functors.</pre>
</div>
<div class="code" title="File: Core.v
Line: 2
Time: 0.001s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
Require Functor.Identity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 3
Time: 0.001s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
Require Import Category.Strict.</pre>
</div>
<div class="code" title="File: Core.v
Line: 4
Time: 0.007s">
<div class="time" style="width: 8.3333333333333%"></div>
<pre>
Require Import Types.Record Types.Paths Types.Sigma Trunc HoTT.Tactics HProp.</pre>
</div>
<div class="code" title="File: Core.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Import Functor.Identity.FunctorIdentityNotations.</pre>
</div>
<div class="code" title="File: Core.v
Line: 6
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Set Universe Polymorphism.</pre>
</div>
<div class="code" title="File: Core.v
Line: 8
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Set Implicit Arguments.</pre>
</div>
<div class="code" title="File: Core.v
Line: 9
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Generalizable All Variables.</pre>
</div>
<div class="code" title="File: Core.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Set Asymmetric Patterns.</pre>
</div>
<div class="code" title="File: Core.v
Line: 11
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope equiv_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope morphism_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 14
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope category_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 15
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Quoting Wikipedia:

    Suppose that [A], [B], and [C] are categories, and [S] and [T] are
    functors

    [S : A → C ← B : T]

    We can form the comma category [(S ↓ T)] as follows:

    - The objects are all triples [(α, β, f)] with [α] an object in
      [A], [β] an object in [B], and [f : S α -&gt; T β] a morphism in
      [C].

    - The morphisms from [(α, β, f)] to [(α', β', f')] are all pairs
      [(g, h)] where [g : α → α'] and [h : β → β'] are morphisms in
      [A] and [B] respectively, such that the following diagram
      commutes:

&lt;&lt;
             S g
        S α -----&gt; S α'
         |          |
       f |          | f'
         |          |
         ↓          ↓
        T β -----&gt; T β'
             T h
&gt;&gt;

    Morphisms are composed by taking [(g, h) ∘ (g', h')] to be [(g ∘
    g', h ∘ h')], whenever the latter expression is defined.  The
    identity morphism on an object [(α, β, f)] is [(1_α, 1_β)].  *)

(** ** Comma category [(S / T)] *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 50
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Module Import CommaCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 50
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Section comma_category_parts.</pre>
</div>
<div class="code" title="File: Core.v
Line: 51
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Variable A : PreCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Variable B : PreCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 53
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Variable C : PreCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 54
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Variable S : Functor A C.</pre>
</div>
<div class="code" title="File: Core.v
Line: 55
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Variable T : Functor B C.</pre>
</div>
<div class="code" title="File: Core.v
Line: 56
Time: 0.002s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>

    Record object :=
      {
        a : A;
        b : B;
        f : morphism C (S a) (T b)
      }.</pre>
</div>
<div class="code" title="File: Core.v
Line: 63
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Global Arguments a _ / .</pre>
</div>
<div class="code" title="File: Core.v
Line: 65
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Global Arguments b _ / .</pre>
</div>
<div class="code" title="File: Core.v
Line: 66
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Global Arguments f _ / .</pre>
</div>
<div class="code" title="File: Core.v
Line: 67
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Local Notation object_sig_T :=
      ({ a : A
       | { b : B
         | morphism C (S a) (T b) }}).</pre>
</div>
<div class="code" title="File: Core.v
Line: 72
Time: 0.001s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>

    Lemma issig_object
    : object_sig_T &lt;~&gt; object.</pre>
</div>
<div class="code" title="File: Core.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 76
Time: 0.005s">
<div class="time" style="width: 5.952380952381%"></div>
<pre>
      issig (@Build_object)
            (@a)
            (@b)
            (@f).</pre>
</div>
<div class="code" title="File: Core.v
Line: 80
Time: 0.007s">
<div class="time" style="width: 8.3333333333333%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 81
Time: 0.001s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>

    Global Instance trunc_object `{IsTrunc n A, IsTrunc n B}
           `{forall s d, IsTrunc n (morphism C s d)}
    : IsTrunc n object.</pre>
</div>
<div class="code" title="File: Core.v
Line: 85
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 86
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      eapply trunc_equiv';
      [ exact issig_object | ].</pre>
</div>
<div class="code" title="File: Core.v
Line: 88
Time: 0.018s">
<div class="time" style="width: 21.428571428571%"></div>
<pre>
      typeclasses eauto.</pre>
</div>
<div class="code" title="File: Core.v
Line: 89
Time: 0.002s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
    Qed.</pre>
</div>
<div class="code" title="File: Core.v
Line: 90
Time: 0.003s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>

    Lemma path_object' (x y : object)
    : forall (Ha : x.(a) = y.(a))
             (Hb : x.(b) = y.(b)),
        transport (fun X =&gt; morphism C (S X) _)
                  Ha
                  (transport (fun Y =&gt; morphism C _ (T Y))
                             Hb
                             x.(f))
        = y.(f)
        -&gt; x = y.</pre>
</div>
<div class="code" title="File: Core.v
Line: 101
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 102
Time: 0.004s">
<div class="time" style="width: 4.7619047619048%"></div>
<pre>
      destruct x, y; simpl.</pre>
</div>
<div class="code" title="File: Core.v
Line: 103
Time: 0.005s">
<div class="time" style="width: 5.952380952381%"></div>
<pre>
      intros; path_induction; reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 104
Time: 0.006s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 105
Time: 0.002s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>

    Lemma ap_a_path_object' x y Ha Hb Hf
    : ap (@a) (@path_object' x y Ha Hb Hf) = Ha.</pre>
</div>
<div class="code" title="File: Core.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 109
Time: 0.008s">
<div class="time" style="width: 9.5238095238095%"></div>
<pre>
      destruct x, y; simpl in *.</pre>
</div>
<div class="code" title="File: Core.v
Line: 110
Time: 0.011s">
<div class="time" style="width: 13.095238095238%"></div>
<pre>
      destruct Ha, Hb, Hf; simpl in *.</pre>
</div>
<div class="code" title="File: Core.v
Line: 111
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 112
Time: 0.013s">
<div class="time" style="width: 15.47619047619%"></div>
<pre>
    Qed.</pre>
</div>
<div class="code" title="File: Core.v
Line: 113
Time: 0.002s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>

    Lemma ap_b_path_object' x y Ha Hb Hf
    : ap (@b) (@path_object' x y Ha Hb Hf) = Hb.</pre>
</div>
<div class="code" title="File: Core.v
Line: 116
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 117
Time: 0.008s">
<div class="time" style="width: 9.5238095238095%"></div>
<pre>
      destruct x, y; simpl in *.</pre>
</div>
<div class="code" title="File: Core.v
Line: 118
Time: 0.011s">
<div class="time" style="width: 13.095238095238%"></div>
<pre>
      destruct Ha, Hb, Hf; simpl in *.</pre>
</div>
<div class="code" title="File: Core.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 120
Time: 0.013s">
<div class="time" style="width: 15.47619047619%"></div>
<pre>
    Qed.</pre>
</div>
<div class="code" title="File: Core.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Global Arguments path_object' : simpl never.</pre>
</div>
<div class="code" title="File: Core.v
Line: 123
Time: 0.009s">
<div class="time" style="width: 10.714285714286%"></div>
<pre>

    Record morphism (abf a'b'f' : object) :=
      Build_morphism' {
          g : Category.Core.morphism A (abf.(a)) (a'b'f'.(a));
          h : Category.Core.morphism B (abf.(b)) (a'b'f'.(b));
          p : T _1 h o abf.(f) = a'b'f'.(f) o S _1 g;
          p_sym : a'b'f'.(f) o S _1 g = T _1 h o abf.(f)
        }.</pre>
</div>
<div class="code" title="File: Core.v
Line: 131
Time: 0.003s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>

    Definition Build_morphism abf a'b'f' g h p : morphism abf a'b'f'
      := @Build_morphism' abf a'b'f' g h p p^.</pre>
</div>
<div class="code" title="File: Core.v
Line: 134
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Global Arguments Build_morphism / .</pre>
</div>
<div class="code" title="File: Core.v
Line: 136
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Global Arguments g _ _ _ / .</pre>
</div>
<div class="code" title="File: Core.v
Line: 137
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Global Arguments h _ _ _ / .</pre>
</div>
<div class="code" title="File: Core.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Global Arguments p _ _ _ / .</pre>
</div>
<div class="code" title="File: Core.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Global Arguments p_sym _ _ _ / .</pre>
</div>
<div class="code" title="File: Core.v
Line: 140
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Local Notation morphism_sig_T abf a'b'f' :=
      ({ g : Category.Core.morphism A (abf.(a)) (a'b'f'.(a))
       | { h : Category.Core.morphism B (abf.(b)) (a'b'f'.(b))
         | T _1 h o abf.(f) = a'b'f'.(f) o S _1 g }}).</pre>
</div>
<div class="code" title="File: Core.v
Line: 145
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Local Notation morphism_sig_T' abf a'b'f' :=
      ({ g : Category.Core.morphism A (abf.(a)) (a'b'f'.(a))
       | { h : Category.Core.morphism B (abf.(b)) (a'b'f'.(b))
         | { _ : T _1 h o abf.(f) = a'b'f'.(f) o S _1 g
           | a'b'f'.(f) o S _1 g = T _1 h o abf.(f) }}}).</pre>
</div>
<div class="code" title="File: Core.v
Line: 151
Time: 0.005s">
<div class="time" style="width: 5.952380952381%"></div>
<pre>

    Lemma issig_morphism' abf a'b'f'
    : (morphism_sig_T' abf a'b'f')
        &lt;~&gt; morphism abf a'b'f'.</pre>
</div>
<div class="code" title="File: Core.v
Line: 155
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 156
Time: 0.025s">
<div class="time" style="width: 29.761904761905%"></div>
<pre>
      issig (@Build_morphism' abf a'b'f')
            (@g abf a'b'f')
            (@h abf a'b'f')
            (@p abf a'b'f')
            (@p_sym abf a'b'f').</pre>
</div>
<div class="code" title="File: Core.v
Line: 161
Time: 0.083s">
<div class="time" style="width: 98.809523809524%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 162
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Lemma issig_morphism_helper {T0} `{IsHSet T0} (a b : T0) (pf : a = b)
    : Contr (b = a).</pre>
</div>
<div class="code" title="File: Core.v
Line: 165
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 166
Time: 0.001s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
      destruct pf.</pre>
</div>
<div class="code" title="File: Core.v
Line: 167
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply contr_inhabited_hprop; try reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 168
Time: 0.007s">
<div class="time" style="width: 8.3333333333333%"></div>
<pre>
      typeclasses eauto.</pre>
</div>
<div class="code" title="File: Core.v
Line: 169
Time: 0.001s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
    Qed.</pre>
</div>
<div class="code" title="File: Core.v
Line: 170
Time: 0.003s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>


    Lemma issig_morphism abf a'b'f'
    : (morphism_sig_T abf a'b'f')
        &lt;~&gt; morphism abf a'b'f'.</pre>
</div>
<div class="code" title="File: Core.v
Line: 175
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 176
Time: 0.003s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
      etransitivity; [ | exact (issig_morphism' abf a'b'f') ].</pre>
</div>
<div class="code" title="File: Core.v
Line: 177
Time: 0.007s">
<div class="time" style="width: 8.3333333333333%"></div>
<pre>
      repeat (apply equiv_functor_sigma_id; intro).</pre>
</div>
<div class="code" title="File: Core.v
Line: 178
Time: 0.006s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>
      symmetry; apply equiv_sigma_contr; intro.</pre>
</div>
<div class="code" title="File: Core.v
Line: 179
Time: 0.002s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
      apply issig_morphism_helper; assumption.</pre>
</div>
<div class="code" title="File: Core.v
Line: 180
Time: 0.019s">
<div class="time" style="width: 22.619047619048%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 181
Time: 0.005s">
<div class="time" style="width: 5.952380952381%"></div>
<pre>

    Global Instance trunc_morphism abf a'b'f'
           `{IsTrunc n (Category.Core.morphism A (abf.(a)) (a'b'f'.(a)))}
           `{IsTrunc n (Category.Core.morphism B (abf.(b)) (a'b'f'.(b)))}
           `{forall m1 m2,
               IsTrunc n (T _1 m2 o abf.(f) = a'b'f'.(f) o S _1 m1)}
    : IsTrunc n (morphism abf a'b'f').</pre>
</div>
<div class="code" title="File: Core.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 189
Time: 0.009s">
<div class="time" style="width: 10.714285714286%"></div>
<pre>
      assert (forall m1 m2,
                IsTrunc n (a'b'f'.(f) o S _1 m1 = T _1 m2 o abf.(f)))
        by (intros; apply (trunc_equiv _ inverse)).</pre>
</div>
<div class="code" title="File: Core.v
Line: 192
Time: 0.001s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
      eapply trunc_equiv';
      [ exact (issig_morphism _ _) | ].</pre>
</div>
<div class="code" title="File: Core.v
Line: 194
Time: 0.03s">
<div class="time" style="width: 35.714285714286%"></div>
<pre>
      typeclasses eauto.</pre>
</div>
<div class="code" title="File: Core.v
Line: 195
Time: 0.007s">
<div class="time" style="width: 8.3333333333333%"></div>
<pre>
    Qed.</pre>
</div>
<div class="code" title="File: Core.v
Line: 196
Time: 0.001s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>

    Lemma path_morphism abf a'b'f'
          (gh g'h' : morphism abf a'b'f')
    : gh.(g) = g'h'.(g)
      -&gt; gh.(h) = g'h'.(h)
      -&gt; gh = g'h'.</pre>
</div>
<div class="code" title="File: Core.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 203
Time: 0.007s">
<div class="time" style="width: 8.3333333333333%"></div>
<pre>
      destruct gh, g'h'; simpl.</pre>
</div>
<div class="code" title="File: Core.v
Line: 204
Time: 0.026s">
<div class="time" style="width: 30.952380952381%"></div>
<pre>
      intros; path_induction.</pre>
</div>
<div class="code" title="File: Core.v
Line: 205
Time: 0.013s">
<div class="time" style="width: 15.47619047619%"></div>
<pre>
      f_ap.</pre>
</div>
<div class="code" title="File: Core.v
Line: 206
Time: 0.061s">
<div class="time" style="width: 72.619047619048%"></div>
<pre>
      all:exact (center _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 207
Time: 0.015s">
<div class="time" style="width: 17.857142857143%"></div>
<pre>
    Qed.</pre>
</div>
<div class="code" title="File: Core.v
Line: 208
Time: 0.044s">
<div class="time" style="width: 52.380952380952%"></div>
<pre>

    Definition compose s d d'
               (gh : morphism d d') (g'h' : morphism s d)
    : morphism s d'
      := Build_morphism'
           s d'
           (gh.(g) o g'h'.(g))
           (gh.(h) o g'h'.(h))
           ((ap (fun m =&gt; m o s.(f)) (composition_of T _ _ _ _ _))
              @ (associativity _ _ _ _ _ _ _ _)
              @ (ap (fun m =&gt; _ o m) g'h'.(p))
              @ (associativity_sym _ _ _ _ _ _ _ _)
              @ (ap (fun m =&gt; m o _) gh.(p))
              @ (associativity _ _ _ _ _ _ _ _)
              @ (ap (fun m =&gt; d'.(f) o m) (composition_of S _ _ _ _ _)^))%path
           ((ap (fun m =&gt; d'.(f) o m) (composition_of S _ _ _ _ _))
              @ (associativity_sym _ _ _ _ _ _ _ _)
              @ (ap (fun m =&gt; m o _) gh.(p_sym))
              @ (associativity _ _ _ _ _ _ _ _)
              @ (ap (fun m =&gt; _ o m) g'h'.(p_sym))
              @ (associativity_sym _ _ _ _ _ _ _ _)
              @ (ap (fun m =&gt; m o s.(f)) (composition_of T _ _ _ _ _)^))%path.</pre>
</div>
<div class="code" title="File: Core.v
Line: 230
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Global Arguments compose _ _ _ _ _ / .</pre>
</div>
<div class="code" title="File: Core.v
Line: 232
Time: 0.013s">
<div class="time" style="width: 15.47619047619%"></div>
<pre>

    Definition identity x : morphism x x
      := Build_morphism'
           x x
           (identity (x.(a)))
           (identity (x.(b)))
           ((ap (fun m =&gt; m o x.(f)) (identity_of T _))
              @ (left_identity _ _ _ _)
              @ ((right_identity _ _ _ _)^)
              @ (ap (fun m =&gt; x.(f) o m) (identity_of S _)^))
           ((ap (fun m =&gt; x.(f) o m) (identity_of S _))
              @ (right_identity _ _ _ _)
              @ ((left_identity _ _ _ _)^)
              @ (ap (fun m =&gt; m o x.(f)) (identity_of T _)^)).</pre>
</div>
<div class="code" title="File: Core.v
Line: 246
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Global Arguments identity _ / .</pre>
</div>
<div class="code" title="File: Core.v
Line: 248
Time: 0.075s">
<div class="time" style="width: 89.285714285714%"></div>
<pre>
  End comma_category_parts.</pre>
</div>
<div class="code" title="File: Core.v
Line: 249
Time: 0.001s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
End CommaCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 250
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Arguments CommaCategory.path_object' : simpl never.</pre>
</div>
<div class="code" title="File: Core.v
Line: 252
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Ltac path_comma_t :=
  intros;
  apply path_morphism;
  simpl;
  auto with morphism.</pre>
</div>
<div class="code" title="File: Core.v
Line: 258
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition comma_category A B C (S : Functor A C) (T : Functor B C)
: PreCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 261
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 262
Time: 0.084s">
<div class="time" style="width: 100%"></div>
<pre>
  refine (@Build_PreCategory
            (@object _ _ _ S T)
            (@morphism _ _ _ S T)
            (@identity _ _ _ S T)
            (@compose _ _ _ S T)
            _
            _
            _
            _
         );
  abstract path_comma_t.</pre>
</div>
<div class="code" title="File: Core.v
Line: 273
Time: 0.009s">
<div class="time" style="width: 10.714285714286%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 274
Time: 0.002s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>

Global Instance isstrict_comma_category A B C S T
       `{IsStrictCategory A, IsStrictCategory B}
: IsStrictCategory (@comma_category A B C S T).</pre>
</div>
<div class="code" title="File: Core.v
Line: 278
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 279
Time: 0.032s">
<div class="time" style="width: 38.095238095238%"></div>
<pre>
  typeclasses eauto.</pre>
</div>
<div class="code" title="File: Core.v
Line: 280
Time: 0.002s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
Qed.</pre>
</div>
<div class="code" title="File: Core.v
Line: 281
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(*  Section category.
    Context `{IsCategory A, IsCategory B}.
    (*Context `{Funext}. *)

    Definition comma_category_isotoid (x y : comma_category)
    : x ≅ y -&gt; x = y.
    Proof.
      intro i.
      destruct i as [i [i' ? ?]].
      hnf in *.
      destruct i, i'.
      simpl in *.


    Global Instance comma_category_IsCategory `{IsCategory A, IsCategory B}
    : IsCategory comma_category.
    Proof.
      hnf.
      unfold IsStrictCategory in *.
      typeclasses eauto.
    Qed.
  End category.
*)

</pre>
</div>
<div class="code" title="File: Core.v
Line: 306
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Hint Unfold compose identity : category.</pre>
</div>
<div class="code" title="File: Core.v
Line: 306
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Hint Constructors morphism object : category.</pre>
</div>
<div class="code" title="File: Core.v
Line: 307
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** (co)slice category [(a / F)], [(F / a)] *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 309
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section slice_category.</pre>
</div>
<div class="code" title="File: Core.v
Line: 309
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Variable A : PreCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 310
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Variable C : PreCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 311
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Variable a : C.</pre>
</div>
<div class="code" title="File: Core.v
Line: 312
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Variable S : Functor A C.</pre>
</div>
<div class="code" title="File: Core.v
Line: 313
Time: 0.009s">
<div class="time" style="width: 10.714285714286%"></div>
<pre>

  Definition slice_category := comma_category S (!a).</pre>
</div>
<div class="code" title="File: Core.v
Line: 315
Time: 0.01s">
<div class="time" style="width: 11.904761904762%"></div>
<pre>
  Definition coslice_category := comma_category (!a) S.</pre>
</div>
<div class="code" title="File: Core.v
Line: 316
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** [x ↓ F] is a coslice category; [F ↓ x] is a slice category; [x ↓ F] deals with morphisms [x -&gt; F y]; [F ↓ x] has morphisms [F y -&gt; x] *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 318
Time: 0.001s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>End slice_category.</pre>
</div>
<div class="code" title="File: Core.v
Line: 318
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** (co)slice category over [(a / C)], [(C / a)] *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 320
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section slice_category_over.</pre>
</div>
<div class="code" title="File: Core.v
Line: 320
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Variable C : PreCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 321
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Variable a : C.</pre>
</div>
<div class="code" title="File: Core.v
Line: 322
Time: 0.001s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>

  Definition slice_category_over := slice_category a (Functor.Identity.identity C).</pre>
</div>
<div class="code" title="File: Core.v
Line: 324
Time: 0.001s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
  Definition coslice_category_over := coslice_category a (Functor.Identity.identity C).</pre>
</div>
<div class="code" title="File: Core.v
Line: 325
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
End slice_category_over.</pre>
</div>
<div class="code" title="File: Core.v
Line: 326
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** category of arrows *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 328
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section arrow_category.</pre>
</div>
<div class="code" title="File: Core.v
Line: 328
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Variable C : PreCategory.</pre>
</div>
<div class="code" title="File: Core.v
Line: 329
Time: 0.001s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>

  Definition arrow_category := comma_category (Functor.Identity.identity C) (Functor.Identity.identity C).</pre>
</div>
<div class="code" title="File: Core.v
Line: 331
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
End arrow_category.</pre>
</div>
<div class="code" title="File: Core.v
Line: 332
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition CC_Functor' (C : PreCategory) (D : PreCategory) := Functor C D.</pre>
</div>
<div class="code" title="File: Core.v
Line: 334
Time: 0.008s">
<div class="time" style="width: 9.5238095238095%"></div>
<pre>
Coercion cc_functor_from_terminal' (C : PreCategory) (x : C) : CC_Functor' _ C
  := (!x)%functor.</pre>
</div>
<div class="code" title="File: Core.v
Line: 336
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Coercion cc_identity_functor' (C : PreCategory) : CC_Functor' C C
  := 1%functor.</pre>
</div>
<div class="code" title="File: Core.v
Line: 338
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Global Arguments CC_Functor' / .</pre>
</div>
<div class="code" title="File: Core.v
Line: 339
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Global Arguments cc_functor_from_terminal' / .</pre>
</div>
<div class="code" title="File: Core.v
Line: 340
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Global Arguments cc_identity_functor' / .</pre>
</div>
<div class="code" title="File: Core.v
Line: 341
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Module Export CommaCoreNotations.</pre>
</div>
<div class="code" title="File: Core.v
Line: 343
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (** We really want to use infix [↓] for comma categories, but that's unicode.  Infix [,] might also be reasonable, but I can't seem to get it to work without destroying the [(_, _)] notation for ordered pairs.  So I settle for the ugly ASCII rendition [/] of [↓]. *)
  (** Set some notations for printing *)
 </pre>
</div>
<div class="code" title="File: Core.v
Line: 346
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Notation "C / a" := (@slice_category_over C a) : category_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 346
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Notation "a \ C" := (@coslice_category_over C a) (at level 40, left associativity) : category_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 347
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Notation "a / C" := (@coslice_category_over C a) : category_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 348
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Notation "x / F" := (coslice_category x F) : category_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 349
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Notation "F / x" := (slice_category x F) : category_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 350
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Notation "S / T" := (comma_category S T) : category_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 351
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (** Set the notation for parsing; coercions will automatically decide which of the arguments are functors and which are objects, i.e., functors from the terminal category. *)
 </pre>
</div>
<div class="code" title="File: Core.v
Line: 353
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Notation "S / T" := (comma_category (S : CC_Functor' _ _)
                                      (T : CC_Functor' _ _)) : category_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 354
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
End CommaCoreNotations.</pre>
</div>
<div class="code" title="File: Core.v
Line: 356
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>


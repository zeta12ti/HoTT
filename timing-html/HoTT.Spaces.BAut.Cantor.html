<html>
<head>
<title>Cantor.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Cantor.v</h1>

<div class="code" title="File: Cantor.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(* -*- mode: coq; mode: visual-line -*- *)</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 1
Time: 0.054s">
<div class="time" style="width: 7.5208913649025%"></div>
<pre>Require Import HoTT.Basics HoTT.Types.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 1
Time: 0.133s">
<div class="time" style="width: 18.523676880223%"></div>
<pre>
Require Import Idempotents.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 2
Time: 0.013s">
<div class="time" style="width: 1.8105849582173%"></div>
<pre>
Require Import hit.Truncations Spaces.BAut Spaces.Cantor.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope equiv_scope.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 6
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * BAut(Cantor) *)

(** ** A pre-idempotent on [BAut Cantor] that does not split *)

(** We go into a non-exported module so that we can use short names for definitions without polluting the global namespace. *)

</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Module BAut_Cantor_Idempotent.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Section Assumptions.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 14
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context `{Univalence}.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 15
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition f : BAut cantor -&gt; BAut cantor.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 17
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 18
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros Z.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 19
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (** Here is the important part of this definition. *)
   </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 21
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>exists (Z + cantor).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 21
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (** The rest is just a proof that [Z+cantor] is again equivalent to [cantor], using [fold_cantor] and the assumption that [Z] is equivalent to [cantor]. *)
   </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 23
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>pose (e := Z.2); simpl in e; clearbody e.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 23
Time: 0.06s">
<div class="time" style="width: 8.3565459610028%"></div>
<pre>
    strip_truncations.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 24
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply tr.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 25
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply path_universe_uncurried.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 26
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>
    refine (equiv_compose' equiv_fold_cantor _).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 27
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply equiv_functor_sum'.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 28
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 29
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply equiv_path, e.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 29
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply equiv_idmap.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 30
Time: 0.005s">
<div class="time" style="width: 0.69637883008357%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 31
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** For the pre-idempotence of [f], the main point is again the existence of the equivalence [fold_cantor]. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 34
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition preidem_f : IsPreIdempotent f.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 34
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 35
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros Z.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 36
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>
    apply path_baut.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 37
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre>
    unfold f; simpl.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 38
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre>
    refine (equiv_compose' _ (equiv_sum_assoc Z cantor cantor)).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 39
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>
    apply (equiv_functor_sum' (equiv_idmap Z) equiv_fold_cantor).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 40
Time: 0.05s">
<div class="time" style="width: 6.9637883008357%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 41
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** We record how the action of [f] and [f o f] on paths corresponds to an action on equivalences. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 44
Time: 0.005s">
<div class="time" style="width: 0.69637883008357%"></div>
<pre>Definition ap_f {Z Z' : BAut cantor} (p : Z = Z')
  : equiv_path _ _ (ap f p)..1
    = equiv_functor_sum' (equiv_path Z Z' p..1) (equiv_idmap cantor).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 47
Time: 0.003s">
<div class="time" style="width: 0.41782729805014%"></div>
<pre>
    destruct p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 48
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre> apply path_equiv, path_arrow.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 48
Time: 0.005s">
<div class="time" style="width: 0.69637883008357%"></div>
<pre>
    intros [z|a]; reflexivity.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 49
Time: 0.012s">
<div class="time" style="width: 1.6713091922006%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 50
Time: 0.005s">
<div class="time" style="width: 0.69637883008357%"></div>
<pre>

  Definition ap_ff {Z Z' : BAut cantor} (p : Z = Z')
  : equiv_path _ _ (ap (f o f) p)..1
    = equiv_functor_sum'
        (equiv_functor_sum' (equiv_path Z Z' p..1) (equiv_idmap cantor))
        (equiv_idmap cantor).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 56
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 57
Time: 0.003s">
<div class="time" style="width: 0.41782729805014%"></div>
<pre>
    destruct p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 58
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre> apply path_equiv, path_arrow.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 58
Time: 0.013s">
<div class="time" style="width: 1.8105849582173%"></div>
<pre>
    intros [[z|a]|a]; reflexivity.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 59
Time: 0.021s">
<div class="time" style="width: 2.924791086351%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 60
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Now let's assume [f] is quasi-idempotent, but not necessarily using the same witness of pre-idempotency. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 63
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Context (Ip : IsPreIdempotent f) (Jp : @IsQuasiIdempotent _ f Ip).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 63
Time: 0.003s">
<div class="time" style="width: 0.41782729805014%"></div>
<pre>

  Definition I (Z : BAut cantor)
  : (Z + cantor) + cantor &lt;~&gt; Z + cantor
    := equiv_path _ _ (Ip Z)..1.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 67
Time: 0.004s">
<div class="time" style="width: 0.55710306406685%"></div>
<pre>

  Definition I0
  : cantor + cantor + cantor + cantor &lt;~&gt; cantor + cantor + cantor
    := I (f (point (BAut cantor))).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 71
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** We don't know much about [I0], but we can show that it maps the rightmost two summands to the rightmost one, using the naturality of [I].  Here is the naturality. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 74
Time: 0.003s">
<div class="time" style="width: 0.41782729805014%"></div>
<pre>Definition Inat (Z Z' : BAut cantor) (e : Z &lt;~&gt; Z')
  : equiv_compose' (I Z') (equiv_functor_sum'
                             (equiv_functor_sum' e (equiv_idmap cantor))
                             (equiv_idmap cantor))
    = equiv_compose' (equiv_functor_sum' e (equiv_idmap cantor)) (I Z).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 78
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 79
Time: 0.024s">
<div class="time" style="width: 3.3426183844011%"></div>
<pre>
    revert e; equiv_intro (equiv_path Z Z') q.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 80
Time: 0.069s">
<div class="time" style="width: 9.6100278551532%"></div>
<pre>
    revert q; equiv_intro (equiv_inverse (equiv_path_sigma_hprop Z Z')) p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 81
Time: 0.019s">
<div class="time" style="width: 2.6462395543175%"></div>
<pre>
    simpl.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 82
Time: 0.025s">
<div class="time" style="width: 3.4818941504178%"></div>
<pre> rewrite &lt;- ap_ff, &lt;- ap_f.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 82
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold I.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 83
Time: 0.048s">
<div class="time" style="width: 6.6852367688022%"></div>
<pre> refine ((equiv_path_pp _ _)^ @ _ @ (equiv_path_pp _ _)).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 83
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>
    apply ap.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 84
Time: 0.017s">
<div class="time" style="width: 2.3676880222841%"></div>
<pre>
    refine ((pr1_path_pp (ap (f o f) p) (Ip Z'))^ @ _ @ pr1_path_pp _ _).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 85
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>
    apply ap.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 86
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre> apply (concat_Ap Ip).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 86
Time: 0.068s">
<div class="time" style="width: 9.4707520891365%"></div>
<pre>
  Qed.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 87
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** To show our claim about the action of [I0], we will apply this naturality to the flip automorphism of [cantor + cantor].  Here are the images of that automorphism under [f] and [f o f]. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 90
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>Definition f_flip :=
    equiv_functor_sum' (equiv_sum_symm cantor cantor)
                       (equiv_idmap cantor).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 92
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre>
  Definition ff_flip :=
    equiv_functor_sum'
      (equiv_functor_sum' (equiv_sum_symm cantor cantor)
                          (equiv_idmap cantor))
      (equiv_idmap cantor).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 97
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** The naturality of [I] implies that [I0] commutes with these images of the flip. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 100
Time: 0.024s">
<div class="time" style="width: 3.3426183844011%"></div>
<pre>Definition I0nat_flip
        (x : ((cantor + cantor) + cantor) + cantor)
  : I0 (ff_flip x) = f_flip (I0 x)
    := ap10 (ap equiv_fun
         (Inat (f (point (BAut cantor))) (f (point (BAut cantor)))
               (equiv_sum_symm cantor cantor)))
         x.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 106
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** The value of this is that we can detect which summand an element is in depending on whether or not it is fixed by [f_flip] or [ff_flip]. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 109
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre>Definition f_flip_fixed_iff_inr (x : cantor + cantor + cantor)
  : (f_flip x = x) &lt;-&gt; is_inr x.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 110
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 111
Time: 0.023s">
<div class="time" style="width: 3.2033426183844%"></div>
<pre>
    split; intros p; destruct x as [[c|c]|c]; simpl in p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 112
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 113
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply path_sum_inl in p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 113
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>
      elim (inl_ne_inr _ _ p^).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 114
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 115
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply path_sum_inl in p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 115
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>
      elim (inl_ne_inr _ _ p).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 116
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact tt.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 118
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre> elim p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 119
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre> elim p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 120
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 120
Time: 0.01s">
<div class="time" style="width: 1.3927576601671%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 121
Time: 0.003s">
<div class="time" style="width: 0.41782729805014%"></div>
<pre>

  Definition ff_flip_fixed_iff_inr
        (x : cantor + cantor + cantor + cantor)
  : (ff_flip x = x) &lt;-&gt; (is_inr x + is_inl_and is_inr x).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 126
Time: 0.036s">
<div class="time" style="width: 5.0139275766017%"></div>
<pre>
    split; intros p; destruct x as [[[c|c]|c]|c]; simpl in p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 127
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 128
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre> do 2 apply path_sum_inl in p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 128
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre>
      elim (inl_ne_inr _ _ p^).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 130
Time: 0.003s">
<div class="time" style="width: 0.41782729805014%"></div>
<pre> do 2 apply path_sum_inl in p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 130
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre>
      elim (inl_ne_inr _ _ p).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 131
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 132
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre> exact (inr tt).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 132
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 133
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre> exact (inl tt).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 133
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 134
Time: 0.008s">
<div class="time" style="width: 1.1142061281337%"></div>
<pre> destruct p as [e|e]; elim e.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 134
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 135
Time: 0.008s">
<div class="time" style="width: 1.1142061281337%"></div>
<pre> destruct p as [e|e]; elim e.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 135
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 136
Time: 0.007s">
<div class="time" style="width: 0.97493036211699%"></div>
<pre> destruct p as [e|_]; [ elim e | reflexivity ].</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 136
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 137
Time: 0.006s">
<div class="time" style="width: 0.83565459610028%"></div>
<pre> destruct p as [_|e]; [ reflexivity | elim e ].</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 137
Time: 0.056s">
<div class="time" style="width: 7.7994428969359%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** And the naturality guarantees that [I0] preserves fixed points. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 141
Time: 0.003s">
<div class="time" style="width: 0.41782729805014%"></div>
<pre>Definition I0_fixed_iff_fixed
        (x : cantor + cantor + cantor + cantor)
  : (ff_flip x = x) &lt;-&gt; (f_flip (I0 x) = I0 x).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 143
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 144
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    split; intros p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 145
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 146
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre> refine ((I0nat_flip x)^ @ ap I0 p).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 146
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 147
Time: 0.005s">
<div class="time" style="width: 0.69637883008357%"></div>
<pre> apply (equiv_inj I0).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 147
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      refine (I0nat_flip x @ p).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 148
Time: 0.005s">
<div class="time" style="width: 0.69637883008357%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 149
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Putting it all together, here is the proof of our claim about [I0]. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 152
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre>Definition I0_preserves_inr
        (x : cantor + cantor + cantor + cantor)
  : (is_inr x + is_inl_and is_inr x) &lt;-&gt; is_inr (I0 x).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 154
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 155
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre>
    refine (iff_compose (f_flip_fixed_iff_inr (I0 x)) _).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 156
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>
    refine (iff_compose (I0_fixed_iff_fixed x) _).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 157
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>
    apply iff_inverse, ff_flip_fixed_iff_inr.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 158
Time: 0.004s">
<div class="time" style="width: 0.55710306406685%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 159
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Now we bring quasi-idempotence into play. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 162
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>Definition J (Z : BAut cantor)
  : equiv_functor_sum' (I Z) (equiv_idmap cantor)
    = I (f Z).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 164
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 165
Time: 0.002s">
<div class="time" style="width: 0.27855153203343%"></div>
<pre>
    unfold I; simpl.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 166
Time: 0.008s">
<div class="time" style="width: 1.1142061281337%"></div>
<pre>
    refine ((ap_f (Ip Z))^ @ _).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 167
Time: 0.003s">
<div class="time" style="width: 0.41782729805014%"></div>
<pre>
    do 2 apply ap.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 168
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply Jp.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 169
Time: 0.015s">
<div class="time" style="width: 2.0891364902507%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 170
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** We reach a contradiction by showing that the two maps which [J] claims are equal send elements of the third summand of the domain into different summands of the codomain. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 173
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition impossible : Empty.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 173
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 174
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>
    pose (x := inl (inr (fun n =&gt; true))
               : ((f (point (BAut cantor))) + cantor) + cantor).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 176
Time: 0.008s">
<div class="time" style="width: 1.1142061281337%"></div>
<pre>
    apply (not_is_inl_and_inr' (I (f (point (BAut cantor))) x)).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 177
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 178
Time: 0.004s">
<div class="time" style="width: 0.55710306406685%"></div>
<pre> exact (transport is_inl
                       (ap10 (ap equiv_fun (J (point (BAut cantor)))) x) tt).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 179
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 180
Time: 0.718s">
<div class="time" style="width: 100%"></div>
<pre> exact (fst (I0_preserves_inr x) (inr tt)).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 180
Time: 0.01s">
<div class="time" style="width: 1.3927576601671%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 181
Time: 0.04s">
<div class="time" style="width: 5.5710306406685%"></div>
<pre>

End Assumptions.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 183
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
End BAut_Cantor_Idempotent.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Let's make the important conclusions available globally. *)

</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 187
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>Definition baut_cantor_idem `{Univalence}
: BAut cantor -&gt; BAut cantor
  := BAut_Cantor_Idempotent.f.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 189
Time: 0.001s">
<div class="time" style="width: 0.13927576601671%"></div>
<pre>

Definition preidem_baut_cantor_idem `{Univalence}
: IsPreIdempotent baut_cantor_idem
  := BAut_Cantor_Idempotent.preidem_f.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 193
Time: 0.004s">
<div class="time" style="width: 0.55710306406685%"></div>
<pre>

Definition not_qidem_baut_cantor_idem `{Univalence}
: ~ { I : IsPreIdempotent baut_cantor_idem
        &amp; IsQuasiIdempotent baut_cantor_idem }
  := fun IJ =&gt; BAut_Cantor_Idempotent.impossible IJ.1 IJ.2.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 199
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>


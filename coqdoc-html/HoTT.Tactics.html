<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>HoTT.Tactics</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library HoTT.Tactics</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="HoTT.Basics.html#"><span class="id" title="library">HoTT.Basics</span></a> <a class="idref" href="HoTT.Types.Prod.html#"><span class="id" title="library">Types.Prod</span></a> <a class="idref" href="HoTT.Types.Forall.html#"><span class="id" title="library">Types.Forall</span></a> <a class="idref" href="HoTT.Types.Paths.html#"><span class="id" title="library">Types.Paths</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="HoTT.Tactics.BinderApply.html#"><span class="id" title="library">Tactics.BinderApply</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab204"></a><h1 class="section">Extra tactics for homotopy type theory.</h1>

<div class="paragraph"> </div>

<a name="lab205"></a><h2 class="section">Tactics for dealing with <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" title="record">Funext</span></a></span></h2>
<a name="lab206"></a><h3 class="section">Tactics about <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a></span>ing with <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a></span></h3>

<div class="paragraph"> </div>

 Given using the variable names from <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">∀</span></span> <span class="inlinecode">{<a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" title="variable">A</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">Type</span>}</span> <span class="inlinecode">(<a class="idref" href="HoTT.categories.DependentProduct.html#dependent_product.P"><span class="id" title="variable">P</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" title="variable">A</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Type</span>)</span> <span class="inlinecode">{<a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Functor.Attributes.html#fully_faithful_helpers.y"><span class="id" title="variable">y</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" title="variable">A</span></a>},</span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Functor.Attributes.html#fully_faithful_helpers.y"><span class="id" title="variable">y</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="HoTT.categories.DependentProduct.html#dependent_product.P"><span class="id" title="variable">P</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="HoTT.categories.DependentProduct.html#dependent_product.P"><span class="id" title="variable">P</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Functor.Attributes.html#fully_faithful_helpers.y"><span class="id" title="variable">y</span></a></span> and <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode">{<a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" title="record">Funext</span></a>}</span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">∀</span></span> <span class="inlinecode">{<a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" title="variable">A</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.B"><span class="id" title="variable">B</span></a>}</span> <span class="inlinecode">(<a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.g"><span class="id" title="variable">g</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">∀</span></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" title="variable">A</span></a>,</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.B"><span class="id" title="variable">B</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a>),</span> <span class="inlinecode">(<span class="id" title="keyword">∀</span></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.A"><span class="id" title="variable">A</span></a>,</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.g"><span class="id" title="variable">g</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a>)</span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.g"><span class="id" title="variable">g</span></a></span>:

<div class="paragraph"> </div>

The high-level idea is that we don't really need functional extensionality if we end up just applying the functions to arguments anyway.  That is, if we have that <span class="inlinecode"><span class="id" title="keyword">∀</span></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a>,</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.g"><span class="id" title="variable">g</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a></span>, and we only talk about <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Functor.Attributes.html#fully_faithful_helpers.y"><span class="id" title="variable">y</span></a></span> and <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="Coq.Init.Logic_Type.html#identity_is_a_congruence.z"><span class="id" title="variable">z</span></a></span>, then we don't actually need to transport across <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.g"><span class="id" title="variable">g</span></a></span>, just <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Functor.Attributes.html#fully_faithful_helpers.y"><span class="id" title="variable">y</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.g"><span class="id" title="variable">g</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Functor.Attributes.html#fully_faithful_helpers.y"><span class="id" title="variable">y</span></a></span> and <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="Coq.Init.Logic_Type.html#identity_is_a_congruence.z"><span class="id" title="variable">z</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.g"><span class="id" title="variable">g</span></a></span> <span class="inlinecode"><a class="idref" href="Coq.Init.Logic_Type.html#identity_is_a_congruence.z"><span class="id" title="variable">z</span></a></span>.

<div class="paragraph"> </div>

In a bit more detail, if we are transporting across <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.g"><span class="id" title="variable">g</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Adjoint.Composition.AssociativityLaw.html#composition_lemmas.H"><span class="id" title="variable">H</span></a></span>, and in the function <span class="inlinecode"><a class="idref" href="HoTT.categories.DependentProduct.html#dependent_product.P"><span class="id" title="variable">P</span></a></span>, all instances of <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> are applied to some expressions, say we only see <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a></span>, <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Functor.Attributes.html#fully_faithful_helpers.y"><span class="id" title="variable">y</span></a></span>, ..., <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="Coq.Init.Logic_Type.html#identity_is_a_congruence.z"><span class="id" title="variable">z</span></a></span>, then we can eliminate the <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a></span> by explicitly transporting across <span class="inlinecode"><a class="idref" href="HoTT.categories.Adjoint.Composition.AssociativityLaw.html#composition_lemmas.H"><span class="id" title="variable">H</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a></span>, <span class="inlinecode"><a class="idref" href="HoTT.categories.Adjoint.Composition.AssociativityLaw.html#composition_lemmas.H"><span class="id" title="variable">H</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Functor.Attributes.html#fully_faithful_helpers.y"><span class="id" title="variable">y</span></a></span>, ..., <span class="inlinecode"><a class="idref" href="HoTT.categories.Adjoint.Composition.AssociativityLaw.html#composition_lemmas.H"><span class="id" title="variable">H</span></a></span> <span class="inlinecode"><a class="idref" href="Coq.Init.Logic_Type.html#identity_is_a_congruence.z"><span class="id" title="variable">z</span></a></span>.  The lemma <span class="inlinecode"><a class="idref" href="HoTT.Tactics.html#path_forall_1_beta"><span class="id" title="lemma">path_forall_1_beta</span></a></span> expresses this fact in the case that we see <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> applied to only a single argument in <span class="inlinecode"><a class="idref" href="HoTT.categories.DependentProduct.html#dependent_product.P"><span class="id" title="variable">P</span></a></span>, and the tactic <span class="inlinecode"><span class="id" title="var">transport_path_forall_hammer</span></span> is some fancy Ltac to auto-infer what <span class="inlinecode"><a class="idref" href="HoTT.categories.DependentProduct.html#dependent_product.P"><span class="id" title="variable">P</span></a></span> is and what the argument to <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> is.

<div class="paragraph"> </div>

The way the tactic does this is by creating an evar for <span class="inlinecode"><a class="idref" href="HoTT.categories.DependentProduct.html#dependent_product.P"><span class="id" title="variable">P</span></a></span> and an evar for the argument to <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span>, and then using a combination of <span class="inlinecode"><span class="id" title="tactic">assert</span></span>, <span class="inlinecode"><span class="id" title="tactic">pattern</span></span>, etc to figure out what each should be.  If you want to see how it works, you can step through each step of <span class="inlinecode"><span class="id" title="var">transport_path_forall_hammer</span></span> when trying to prove <span class="inlinecode"><a class="idref" href="HoTT.Tactics.html#path_forall_2_beta"><span class="id" title="lemma">path_forall_2_beta</span></a></span>. 
<div class="paragraph"> </div>

 First, we prove some helpful lemmas about <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a></span> and <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">path_forall_beta_t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" title="keyword">context</span>[@<a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a> ?<span class="id" title="var">H</span> ?<span class="id" title="var">A</span> ?<span class="id" title="var">B</span> ?<span class="id" title="var">f</span> ?<span class="id" title="var">g</span> ?<span class="id" title="var">e</span>] ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">X</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="HoTT.Basics.Overture.html#eissect"><span class="id" title="projection">eissect</span></a> (@<a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a> <span class="id" title="var">H</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">X</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">X</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (@<a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a> <span class="id" title="var">H</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">e</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="HoTT.Basics.Overture.html#apD10"><span class="id" title="definition">apD10</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !(<a class="idref" href="HoTT.Types.Forall.html#path_forall_1"><span class="id" title="definition">path_forall_1</span></a> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
</div>

<div class="doc">
The basic idea is expressed in the type of this lemma. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="path_forall_1_beta"><span class="id" title="lemma">path_forall_1_beta</span></a> `{<a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" title="class">Funext</span></a>} <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">x</span> <span class="id" title="var">P</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">e</span> <span class="id" title="var">Px</span><br/>
: @<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> (<span class="id" title="keyword">∀</span> <span class="id" title="var">a</span> : <a class="idref" href="HoTT.Tactics.html#A"><span class="id" title="variable">A</span></a>, <a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#a"><span class="id" title="variable">a</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> ⇒ <a class="idref" href="HoTT.Tactics.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a>)) <a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a> (@<a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Tactics.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="HoTT.Tactics.html#Px"><span class="id" title="variable">Px</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> @<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> (<a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="HoTT.Tactics.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="HoTT.Tactics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="HoTT.Tactics.html#Px"><span class="id" title="variable">Px</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">path_forall_beta_t</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The powerful recursive case 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="path_forall_recr_beta&acute;"><span class="id" title="lemma">path_forall_recr_beta&acute;</span></a> `{<a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" title="class">Funext</span></a>} <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">x0</span> <span class="id" title="var">P</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">e</span> <span class="id" title="var">Px</span><br/>
: @<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> (<span class="id" title="keyword">∀</span> <span class="id" title="var">a</span> : <a class="idref" href="HoTT.Tactics.html#A"><span class="id" title="variable">A</span></a>, <a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#a"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> ⇒ <a class="idref" href="HoTT.Tactics.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Tactics.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Tactics.html#Px"><span class="id" title="variable">Px</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> @<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">a</span>, <a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">)</span></a> <a class="idref" href="Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a>)%<span class="id" title="var">type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> ⇒ <a class="idref" href="HoTT.Tactics.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#fst"><span class="id" title="projection">fst</span></a> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Coq.Init.Datatypes.html#snd"><span class="id" title="projection">snd</span></a> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a><a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a><a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a><a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Types.Prod.html#path_prod&acute;"><span class="id" title="definition">path_prod&acute;</span></a> (@<a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Tactics.html#e"><span class="id" title="variable">e</span></a>) (<a class="idref" href="HoTT.Tactics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Tactics.html#Px"><span class="id" title="variable">Px</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">path_forall_beta_t</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Rewrite the recursive case after clean-up 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="path_forall_recr_beta"><span class="id" title="lemma">path_forall_recr_beta</span></a> `{<a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" title="class">Funext</span></a>} <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">x0</span> <span class="id" title="var">P</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">e</span> <span class="id" title="var">Px</span><br/>
: @<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> (<span class="id" title="keyword">∀</span> <span class="id" title="var">a</span> : <a class="idref" href="HoTT.Tactics.html#A"><span class="id" title="variable">A</span></a>, <a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#a"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> ⇒ <a class="idref" href="HoTT.Tactics.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Tactics.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Tactics.html#Px"><span class="id" title="variable">Px</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> @<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> (<span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> : <a class="idref" href="HoTT.Tactics.html#A"><span class="id" title="variable">A</span></a>, <a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> ⇒ <a class="idref" href="HoTT.Tactics.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a> <a class="idref" href="HoTT.Tactics.html#H"><span class="id" title="variable">H</span></a> <a class="idref" href="HoTT.Tactics.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="HoTT.Tactics.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> (<a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> ⇒ <a class="idref" href="HoTT.Tactics.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#y"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Tactics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Tactics.html#Px"><span class="id" title="variable">Px</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Tactics.html#path_forall_recr_beta&acute;"><span class="id" title="lemma">path_forall_recr_beta&acute;</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Types.Prod.html#transport_path_prod&acute;"><span class="id" title="definition">transport_path_prod&acute;</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The sledge-hammer for computing with <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a></span>ing across a <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a></span>.  Note that it uses <span class="inlinecode"><span class="id" title="tactic">rewrite</span></span>, and so should only be used in opaque proofs. 
<div class="paragraph"> </div>

 This helper tactic takes a <span class="inlinecode"><span class="id" title="var">term</span></span> and a function <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span>, finds <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a></span> in <span class="inlinecode"><span class="id" title="var">term</span></span> and patterns that, returning a pair <span class="inlinecode">(<a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a>,</span> <span class="inlinecode"><span class="id" title="var">term&acute;</span>)</span> such that <span class="inlinecode"><span class="id" title="var">term&acute;</span></span> <span class="inlinecode">(<a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Grothendieck.PseudofunctorToCat.html#x"><span class="id" title="projection">x</span></a>)</span> <span class="inlinecode">≡</span> <span class="inlinecode"><span class="id" title="var">term</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">pull_app</span> <span class="id" title="var">term</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">term&acute;</span> := (<span class="id" title="tactic">eval</span> <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span> <span class="id" title="keyword">in</span> <span class="id" title="var">term</span>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">term&acute;</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">f</span> ?<span class="id" title="var">x</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">match</span> <span class="id" title="tactic">eval</span> <span class="id" title="tactic">pattern</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">term&acute;</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">term&acute;</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) ⇒ <span class="id" title="keyword">constr</span>:(<a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">term&acute;</span><a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">infer_path_forall_recr_beta</span> <span class="id" title="var">term</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">path_forall_recr_beta&acute;</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">term</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| @<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> ⇒ @?<span class="id" title="var">P0</span> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a> ?<span class="id" title="var">H</span> ?<span class="id" title="var">A</span> ?<span class="id" title="var">B</span> ?<span class="id" title="var">f</span> ?<span class="id" title="var">g</span> ?<span class="id" title="var">e</span>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">constr</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">x0</span> <span class="id" title="var">P</span> <span class="id" title="var">Px</span> ⇒ @<a class="idref" href="HoTT.Tactics.html#path_forall_recr_beta"><span class="id" title="lemma">path_forall_recr_beta</span></a> <span class="id" title="var">H</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a> <a class="idref" href="HoTT.Tactics.html#P"><span class="id" title="variable">P</span></a> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">e</span> <a class="idref" href="HoTT.Tactics.html#Px"><span class="id" title="variable">Px</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Px</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">term</span> <span class="id" title="keyword">with</span> @<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">Px</span> ⇒ <span class="id" title="keyword">constr</span>:(<span class="id" title="var">Px</span>) <span class="id" title="keyword">end</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">P0</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">term</span> <span class="id" title="keyword">with</span> @<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> ⇒ @?<span class="id" title="var">P0</span> <a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">constr</span>:(<span class="id" title="var">P0</span>) <span class="id" title="keyword">end</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;</div>

<div class="doc">
pattern some <span class="inlinecode"><a class="idref" href="HoTTBookExercises.html#Book_4_5.parts.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Category.Morphisms.html#associativity_composition.x0"><span class="id" title="variable">x0</span></a></span> in <span class="inlinecode"><span class="id" title="var">P0</span></span>  Hopefully, no goal will have a variable called <span class="inlinecode"><span class="id" title="var">WORKAROUND_FOR_BUG_3458</span></span> in the context.  At least not until bug 3458 is fixed. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">P0f</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">WORKAROUND_FOR_BUG_3458</span> ⇒ $(<span class="id" title="keyword">let</span> <span class="id" title="var">ret</span> := <span class="id" title="var">pull_app</span> (<span class="id" title="var">P0</span> <span class="id" title="var">WORKAROUND_FOR_BUG_3458</span>) <span class="id" title="var">WORKAROUND_FOR_BUG_3458</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">ret</span>)$) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x0</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">P0f</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> ⇒ <a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(?</span></a><span class="id" title="var">x0</span><a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> @?<span class="id" title="var">P</span> <a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<span class="id" title="var">x0</span>) <span class="id" title="keyword">end</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">P</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">P0f</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> ⇒ <a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(?</span></a><span class="id" title="var">x0</span><a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> @?<span class="id" title="var">P</span> <a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<span class="id" title="var">P</span>) <span class="id" title="keyword">end</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ret</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="var">path_forall_recr_beta&acute;</span> <span class="id" title="var">x0</span> <span class="id" title="var">P</span> <span class="id" title="var">Px</span>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">retT</span> := <span class="id" title="var">type</span> <span class="id" title="var">of</span> <span class="id" title="var">ret</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ret&acute;</span> := (<span class="id" title="tactic">eval</span> <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span> <span class="id" title="keyword">in</span> <span class="id" title="var">ret</span>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">retT&acute;</span> := (<span class="id" title="tactic">eval</span> <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span> <span class="id" title="keyword">in</span> <span class="id" title="var">retT</span>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<span class="id" title="var">ret&acute;</span> : <span class="id" title="var">retT&acute;</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">transport_path_forall_hammer_helper</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">term</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[@<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> ?<span class="id" title="var">At</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> ⇒ @?<span class="id" title="var">Bt</span> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a>) ?<span class="id" title="var">ft</span> ?<span class="id" title="var">gt</span> (@<a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a> ?<span class="id" title="var">H</span> ?<span class="id" title="var">A</span> ?<span class="id" title="var">B</span> ?<span class="id" title="var">f</span> ?<span class="id" title="var">g</span> ?<span class="id" title="var">e</span>) ?<span class="id" title="var">Px</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">constr</span>:(@<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> <span class="id" title="var">At</span> <span class="id" title="var">Bt</span> <span class="id" title="var">ft</span> <span class="id" title="var">gt</span> (@<a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a> <span class="id" title="var">H</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">e</span>) <span class="id" title="var">Px</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lem</span> := <span class="id" title="var">infer_path_forall_recr_beta</span> <span class="id" title="var">term</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">pattern</span> <span class="id" title="var">term</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> <span class="id" title="var">_</span> <span class="id" title="var">lem</span><a class="idref" href="HoTT.Basics.Overture.html#29af923c7a8513334b9f1a5189c731d3"><span class="id" title="notation">^</span></a> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">beta</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">transport_path_forall_hammer</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">transport_path_forall_hammer_helper</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="HoTT.Basics.PathGroupoids.html#transport_const"><span class="id" title="definition">transport_const</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">transport_path_forall_hammer_helper</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="HoTT.Basics.PathGroupoids.html#transport_const"><span class="id" title="definition">transport_const</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>

<br/>
</div>

<div class="doc">
An example showing that it works 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="path_forall_2_beta&acute;"><span class="id" title="lemma">path_forall_2_beta&acute;</span></a> `{<a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" title="class">Funext</span></a>} <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">x0</span> <span class="id" title="var">x1</span> <span class="id" title="var">P</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">e</span> <span class="id" title="var">Px</span><br/>
: @<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> (<span class="id" title="keyword">∀</span> <span class="id" title="var">a</span> : <a class="idref" href="HoTT.Tactics.html#A"><span class="id" title="variable">A</span></a>, <a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#a"><span class="id" title="variable">a</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> ⇒ <a class="idref" href="HoTT.Tactics.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a>) (<a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#x1"><span class="id" title="variable">x1</span></a>)) <a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a> (@<a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Tactics.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="HoTT.Tactics.html#Px"><span class="id" title="variable">Px</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> @<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> (<a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a> <a class="idref" href="Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#x1"><span class="id" title="variable">x1</span></a>)%<span class="id" title="var">type</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> ⇒ <a class="idref" href="HoTT.Tactics.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="Coq.Init.Datatypes.html#fst"><span class="id" title="projection">fst</span></a> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Coq.Init.Datatypes.html#snd"><span class="id" title="projection">snd</span></a> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a>)) <a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a><a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#x1"><span class="id" title="variable">x1</span></a><a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a><a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="HoTT.Tactics.html#x1"><span class="id" title="variable">x1</span></a><a class="idref" href="Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="HoTT.Types.Prod.html#path_prod&acute;"><span class="id" title="definition">path_prod&acute;</span></a> (<a class="idref" href="HoTT.Tactics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a>) (<a class="idref" href="HoTT.Tactics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Tactics.html#x1"><span class="id" title="variable">x1</span></a>)) <a class="idref" href="HoTT.Tactics.html#Px"><span class="id" title="variable">Px</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">transport_path_forall_hammer</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" title="keyword">context</span>[<span class="id" title="var">e</span> ?<span class="id" title="var">x</span>] ] ⇒ <span class="id" title="tactic">induction</span> (<span class="id" title="var">e</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="path_forall_2_beta"><span class="id" title="lemma">path_forall_2_beta</span></a> `{<a class="idref" href="HoTT.Basics.Overture.html#Funext"><span class="id" title="class">Funext</span></a>} <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">x0</span> <span class="id" title="var">x1</span> <span class="id" title="var">P</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">e</span> <span class="id" title="var">Px</span><br/>
: @<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> (<span class="id" title="keyword">∀</span> <span class="id" title="var">a</span> : <a class="idref" href="HoTT.Tactics.html#A"><span class="id" title="variable">A</span></a>, <a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#a"><span class="id" title="variable">a</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> ⇒ <a class="idref" href="HoTT.Tactics.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a>) (<a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#x1"><span class="id" title="variable">x1</span></a>)) <a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a> (@<a class="idref" href="HoTT.Basics.Overture.html#path_forall"><span class="id" title="definition">path_forall</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Tactics.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="HoTT.Tactics.html#Px"><span class="id" title="variable">Px</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> : <a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#x1"><span class="id" title="variable">x1</span></a> ⇒ <a class="idref" href="HoTT.Tactics.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="HoTT.Tactics.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a>) <a class="idref" href="HoTT.Tactics.html#y"><span class="id" title="variable">y</span></a>) (<a class="idref" href="HoTT.Tactics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Tactics.html#x1"><span class="id" title="variable">x1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="HoTT.Basics.Overture.html#transport"><span class="id" title="definition">transport</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> : <a class="idref" href="HoTT.Tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a> ⇒ <a class="idref" href="HoTT.Tactics.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Tactics.html#y"><span class="id" title="variable">y</span></a> (<a class="idref" href="HoTT.Tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Tactics.html#x1"><span class="id" title="variable">x1</span></a>)) (<a class="idref" href="HoTT.Tactics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="HoTT.Tactics.html#x0"><span class="id" title="variable">x0</span></a>) <a class="idref" href="HoTT.Tactics.html#Px"><span class="id" title="variable">Px</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">transport_path_forall_hammer</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab207"></a><h2 class="section">A more powerful variant of <span class="inlinecode"><span class="id" title="var">path_induction</span></span></h2>
 We first define some helper tactics, and then define <span class="inlinecode"><span class="id" title="var">path_induction_hammer</span></span>, which has poor computational behavior, but is vastly more powerful than <span class="inlinecode"><span class="id" title="var">path_induction</span></span>, and removes paths which are discoverably contractible, and paths which only appear in the goal, etc. 
<div class="paragraph"> </div>

 A variant of <span class="inlinecode"><span class="id" title="tactic">induction</span></span> which also tries <span class="inlinecode"><span class="id" title="tactic">destruct</span></span> and <span class="inlinecode"><span class="id" title="tactic">case</span></span>, and may be extended to using other <span class="inlinecode"><span class="id" title="tactic">destruct</span></span>-like tactics. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">induction_hammer</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> || <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span> || (<span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>).<br/>

<br/>
</div>

<div class="doc">
Takes a term of type <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">_</span></span>, and tries to replace it by <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a></span> by trying to prove that it's an hProp.  The ordering of attempts is tuned for speed. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">clear_contr_path</span> <span class="id" title="var">p</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">T</span> := <span class="id" title="var">type</span> <span class="id" title="var">of</span> <span class="id" title="var">p</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">progress</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> [ <span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">p</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#center"><span class="id" title="projection">center</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">a</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- @<a class="idref" href="HoTT.Basics.Overture.html#paths"><span class="id" title="inductive">paths</span></a> (?<span class="id" title="var">x</span> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">?</span></a><span class="id" title="var">y</span>) ?<span class="id" title="var">a</span> ?<span class="id" title="var">b</span> ⇒ <span class="id" title="keyword">constr</span>:(<span class="id" title="var">a</span>) <span class="id" title="keyword">end</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">b</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- @<a class="idref" href="HoTT.Basics.Overture.html#paths"><span class="id" title="inductive">paths</span></a> (?<span class="id" title="var">x</span> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">?</span></a><span class="id" title="var">y</span>) ?<span class="id" title="var">a</span> ?<span class="id" title="var">b</span> ⇒ <span class="id" title="keyword">constr</span>:(<span class="id" title="var">b</span>) <span class="id" title="keyword">end</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- @<a class="idref" href="HoTT.Basics.Overture.html#paths"><span class="id" title="inductive">paths</span></a> (?<span class="id" title="var">x</span> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">?</span></a><span class="id" title="var">y</span>) ?<span class="id" title="var">a</span> ?<span class="id" title="var">b</span> ⇒ <span class="id" title="keyword">constr</span>:(<span class="id" title="var">x</span>) <span class="id" title="keyword">end</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">y</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- @<a class="idref" href="HoTT.Basics.Overture.html#paths"><span class="id" title="inductive">paths</span></a> (?<span class="id" title="var">x</span> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">?</span></a><span class="id" title="var">y</span>) ?<span class="id" title="var">a</span> ?<span class="id" title="var">b</span> ⇒ <span class="id" title="keyword">constr</span>:(<span class="id" title="var">y</span>) <span class="id" title="keyword">end</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="HoTT.Basics.Overture.html#equiv_inv"><span class="id" title="projection">equiv_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<a class="idref" href="HoTT.Types.Paths.html#equiv_ap"><span class="id" title="definition">equiv_ap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<a class="idref" href="HoTT.Basics.Overture.html#isequiv_apD10"><span class="id" title="axiom">isequiv_apD10</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="var">a</span> <span class="id" title="var">b</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#center"><span class="id" title="projection">center</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (@<a class="idref" href="HoTT.Basics.Contractible.html#path_contr"><span class="id" title="definition">path_contr</span></a> <span class="id" title="var">T</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a> <span class="id" title="var">p</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span> ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> <span class="id" title="keyword">iota</span> <span class="id" title="keyword">in</span> ×<br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>

<br/>
</div>

<div class="doc">
Use both <span class="inlinecode"><span class="id" title="var">induction_hammer</span></span> and <span class="inlinecode"><span class="id" title="var">clear_contr_path</span></span> on a path, to try to get rid of it 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">clear_path_no_check</span> <span class="id" title="var">p</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">induction_hammer</span> <span class="id" title="var">p</span> || <span class="id" title="var">clear_contr_path</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">clear_path</span> <span class="id" title="var">p</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <span class="id" title="var">type</span> <span class="id" title="var">of</span> <span class="id" title="var">p</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="tactic">eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="keyword">in</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| @<a class="idref" href="HoTT.Basics.Overture.html#paths"><span class="id" title="inductive">paths</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">clear_path_no_check</span> <span class="id" title="var">p</span> || <span class="id" title="tactic">fail</span> 1 "cannot clear path" <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">fail</span> 0 "clear_path only works on paths;" <span class="id" title="var">p</span> "is not a path"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Run <span class="inlinecode"><span class="id" title="var">clear_path</span></span> on hypotheses  We don't match only on things of type <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">_</span></span>, because maybe that's the head normal form, but it's hiding behind something else; <span class="inlinecode"><span class="id" title="var">clear_path</span></span> will make sure it's of the right type.  We include some redundant cases at the top, for speed; it is faster to try to destruct everything first, and then do the full battery of tactics, than to just run the hammer. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">step_clear_paths</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">idtac</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">p</span> : <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">p</span> : <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="var">clear_path_no_check</span> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">p</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="var">clear_path</span> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">clear_paths</span> := <span class="id" title="tactic">progress</span> <span class="id" title="tactic">repeat</span> <span class="id" title="var">step_clear_paths</span>.<br/>

<br/>
</div>

<div class="doc">
Run <span class="inlinecode"><span class="id" title="var">clear_path</span></span> on anything inside a <span class="inlinecode"><span class="id" title="keyword">match</span></span> 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">step_clear_paths_in_match</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">idtac</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" title="keyword">context</span>[<span class="id" title="keyword">match</span> ?<span class="id" title="var">p</span> <span class="id" title="keyword">with</span> <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a> ⇒ <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>] ] ⇒ <span class="id" title="tactic">progress</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" title="keyword">context</span>[<span class="id" title="keyword">match</span> ?<span class="id" title="var">p</span> <span class="id" title="keyword">with</span> <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a> ⇒ <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>] ] ⇒ <span class="id" title="var">clear_path_no_check</span> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">clear_paths_in_match</span> := <span class="id" title="tactic">progress</span> <span class="id" title="tactic">repeat</span> <span class="id" title="var">step_clear_paths_in_match</span>.<br/>

<br/>
</div>

<div class="doc">
Now some lemmas about trivial <span class="inlinecode"><span class="id" title="keyword">match</span></span>es 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="match_eta"><span class="id" title="definition">match_eta</span></a> {<span class="id" title="var">T</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="HoTT.Tactics.html#T"><span class="id" title="variable">T</span></a>} (<span class="id" title="var">H0</span> : <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Tactics.html#y"><span class="id" title="variable">y</span></a>)<br/>
: (<a class="idref" href="HoTT.Tactics.html#H0"><span class="id" title="variable">H0</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="HoTT.Tactics.html#H0"><span class="id" title="variable">H0</span></a> <span class="id" title="keyword">in</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">y</span>) <span class="id" title="keyword">return</span> (<a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Tactics.html#y"><span class="id" title="variable">y</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="HoTT.Tactics.html#H0"><span class="id" title="variable">H0</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="match_eta1"><span class="id" title="definition">match_eta1</span></a> {<span class="id" title="var">T</span>} {<span class="id" title="var">x</span> : <a class="idref" href="HoTT.Tactics.html#T"><span class="id" title="variable">T</span></a>} (<span class="id" title="var">E</span> : <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a>)<br/>
: <a class="idref" href="Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">match</span> <a class="idref" href="HoTT.Tactics.html#E"><span class="id" title="variable">E</span></a> <span class="id" title="keyword">in</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">y</span>) <span class="id" title="keyword">return</span> (<a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Tactics.html#y"><span class="id" title="variable">y</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a><a class="idref" href="Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Tactics.html#E"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ (<a class="idref" href="HoTT.Basics.Overture.html#29af923c7a8513334b9f1a5189c731d3"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Tactics.html#H"><span class="id" title="variable">H</span></a> <a class="idref" href="HoTT.Basics.Overture.html#e4b535f859a91001a949d70407b794ae"><span class="id" title="notation">#</span></a> <a class="idref" href="HoTT.Tactics.html#match_eta"><span class="id" title="definition">match_eta</span></a> <a class="idref" href="HoTT.Tactics.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="HoTT.Basics.Overture.html#29af923c7a8513334b9f1a5189c731d3"><span class="id" title="notation">)</span></a> <a class="idref" href="HoTT.Basics.Overture.html#29af923c7a8513334b9f1a5189c731d3"><span class="id" title="notation">^</span></a>)%<span class="id" title="var">path</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="match_eta2"><span class="id" title="definition">match_eta2</span></a> {<span class="id" title="var">T</span>} {<span class="id" title="var">x</span> : <a class="idref" href="HoTT.Tactics.html#T"><span class="id" title="variable">T</span></a>} (<span class="id" title="var">E</span> : <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a>)<br/>
: <a class="idref" href="Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="HoTT.Tactics.html#E"><span class="id" title="variable">E</span></a> <span class="id" title="keyword">in</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">y</span>) <span class="id" title="keyword">return</span> (<a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Tactics.html#y"><span class="id" title="variable">y</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><a class="idref" href="Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Tactics.html#E"><span class="id" title="variable">E</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <a class="idref" href="HoTT.Tactics.html#match_eta1"><span class="id" title="definition">match_eta1</span></a> <a class="idref" href="HoTT.Tactics.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="HoTT.Tactics.html#H"><span class="id" title="variable">H</span></a> <a class="idref" href="HoTT.Basics.Overture.html#29af923c7a8513334b9f1a5189c731d3"><span class="id" title="notation">^</span></a>)%<span class="id" title="var">path</span>.<br/>

<br/>
</div>

<div class="doc">
And now the actual tactic.  Note that the order of the cases in the <span class="inlinecode"><span class="id" title="keyword">match</span></span> <span class="inlinecode"><span class="id" title="keyword">goal</span></span> <span class="inlinecode"><span class="id" title="keyword">with</span></span> <span class="inlinecode">...</span> <span class="inlinecode"><span class="id" title="keyword">end</span></span> is somewhat finely tuned for speed. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">step_path_induction_hammer</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">idtac</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">intro</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">progress</span> <span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> ×<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#contr"><span class="id" title="projection">contr</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">p</span> : <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="tactic">progress</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">H&acute;</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="keyword">in</span> <span class="id" title="tactic">assert</span> (<span class="id" title="var">H&acute;</span> := <a class="idref" href="HoTT.Tactics.html#match_eta1"><span class="id" title="definition">match_eta1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">H&acute;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">H&acute;</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="keyword">in</span> <span class="id" title="tactic">assert</span> (<span class="id" title="var">H&acute;</span> := <a class="idref" href="HoTT.Tactics.html#match_eta2"><span class="id" title="definition">match_eta2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">H&acute;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">step_clear_paths</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">expand</span>; <span class="id" title="var">step_clear_paths_in_match</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">progress</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">path_hints</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#center"><span class="id" title="projection">center</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">path_induction_hammer</span> := <span class="id" title="tactic">progress</span> <span class="id" title="tactic">repeat</span> <span class="id" title="var">step_path_induction_hammer</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab208"></a><h1 class="section">Miscellaneous tactics</h1>

<div class="paragraph"> </div>

 Substitute all hypotheses with bodies, i.e., of the form <span class="inlinecode"><a class="idref" href="HoTT.categories.Adjoint.Composition.AssociativityLaw.html#composition_lemmas.H"><span class="id" title="variable">H</span></a></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">_</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">subst_body</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> := <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">subst</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Some tactics to do things with some arbitrary hypothesis in the context.  These tactics are similar to, e.g., <span class="inlinecode"><span class="id" title="tactic">assumption</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">do_with_hyp</span> <span class="id" title="var">tac</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">idtac</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="var">tac</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rewrite_hyp&acute;</span> := <span class="id" title="var">do_with_hyp</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rewrite_hyp</span> := <span class="id" title="tactic">repeat</span> <span class="id" title="var">rewrite_hyp&acute;</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rewrite_rev_hyp&acute;</span> := <span class="id" title="var">do_with_hyp</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rewrite_rev_hyp</span> := <span class="id" title="tactic">repeat</span> <span class="id" title="var">rewrite_rev_hyp&acute;</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">apply_hyp&acute;</span> := <span class="id" title="var">do_with_hyp</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">apply_hyp</span> := <span class="id" title="tactic">repeat</span> <span class="id" title="var">apply_hyp&acute;</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">eapply_hyp&acute;</span> := <span class="id" title="var">do_with_hyp</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">eapply_hyp</span> := <span class="id" title="tactic">repeat</span> <span class="id" title="var">eapply_hyp&acute;</span>.<br/>

<br/>
</div>

<div class="doc">
Run <span class="inlinecode"><span class="id" title="tactic">simpl</span></span> on a hypothesis before rewriting with it. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simpl_do_clear</span> <span class="id" title="var">tac</span> <span class="id" title="var">term</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> := <span class="id" title="var">term</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span> |- *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tac</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>

<br/>
</div>

<div class="doc">
The behavior of <span class="inlinecode"><span class="id" title="tactic">simpl</span></span> <span class="inlinecode"><span class="id" title="tactic">rewrite</span></span> with respect to implicit arguments is slightly different from that of <span class="inlinecode"><span class="id" title="tactic">rewrite</span></span>.  In some ways, it is a little more like <span class="inlinecode"><span class="id" title="var">erewrite</span></span>, but in fact both <span class="inlinecode"><span class="id" title="tactic">rewrite</span></span> and <span class="inlinecode"><span class="id" title="var">erewrite</span></span> use magic that we are unable to exactly duplicate with a user-defined tactic.

<div class="paragraph"> </div>

The point is that for a user-defined tactic, Coq has to resolve the meaning of the term passed to it in some way before the tactic begins executing.  In particular, if that term involves maximally inserted implicit arguments, then it will have to fill them in; but often there will be no way to do that.  If we declared the argument of <span class="inlinecode"><span class="id" title="tactic">simpl</span></span> <span class="inlinecode"><span class="id" title="tactic">rewrite</span></span> as a <span class="inlinecode"><span class="id" title="keyword">constr</span></span>, then this would cause it to fail.  Instead, we declare it as an <span class="inlinecode"><span class="id" title="var">open_constr</span></span>, which allows Coq to fill in those implicit arguments with existential variables, which can then be instantiated later during the rewriting. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    <span class="id" title="var">H</span>) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → <span class="id" title="var">H</span>) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>) <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span>) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span>) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span>) <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × ) <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) "|-" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span> |- × ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) "|-" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span> |- × ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) "|-" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span> |- × ) <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" "|-" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × |- ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" "|-" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × |- ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" "|-" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × |- ) <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    !<span class="id" title="var">H</span>) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → !<span class="id" title="var">H</span>) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- !<span class="id" title="var">H</span>) <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    !<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span>) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → !<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span>) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- !<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span>) <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    !<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → !<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- !<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × ) <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) "|-" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    !<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span> |- × ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) "|-" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → !<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span> |- × ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) "|-" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- !<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span> |- × ) <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" "|-" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    !<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × |- ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" "|-" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → !<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × |- ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" "!" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" "|-" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- !<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × |- ) <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    ?<span class="id" title="var">H</span>) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → ?<span class="id" title="var">H</span>) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- ?<span class="id" title="var">H</span>) <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    ?<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span>) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → ?<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span>) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- ?<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span>) <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    ?<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → ?<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- ?<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × ) <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) "|-" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    ?<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span> |- × ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) "|-" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → ?<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span> |- × ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">hyp</span>) "|-" "*" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- ?<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">hyp</span> |- × ) <span class="id" title="var">term</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite"      "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" "|-" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span>    ?<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × |- ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "-&gt;" "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" "|-" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> → ?<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × |- ) <span class="id" title="var">term</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl" "rewrite" "&lt;-" "?" <span class="id" title="var">open_constr</span>(<span class="id" title="var">term</span>) "in" "*" "|-" := <span class="id" title="var">simpl_do_clear</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="tactic">rewrite</span> &lt;- ?<span class="id" title="var">H</span> <span class="id" title="keyword">in</span> × |- ) <span class="id" title="var">term</span>.<br/>

<br/>
</div>

<div class="doc">
find the head of the given expression 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">head</span> <span class="id" title="var">expr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">expr</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">head</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">expr</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">head_hnf</span> <span class="id" title="var">expr</span> := <span class="id" title="keyword">let</span> <span class="id" title="var">expr&acute;</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="keyword">in</span> <span class="id" title="var">expr</span> <span class="id" title="keyword">in</span> <span class="id" title="var">head</span> <span class="id" title="var">expr&acute;</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_all_matches_then</span> <span class="id" title="var">matcher</span> <span class="id" title="var">tac</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : ?<span class="id" title="var">T</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="var">matcher</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="var">tac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_all_matches</span> <span class="id" title="var">matcher</span> := <span class="id" title="var">destruct_all_matches_then</span> <span class="id" title="var">matcher</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *).<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_all_matches&acute;</span> <span class="id" title="var">matcher</span> := <span class="id" title="var">destruct_all_matches_then</span> <span class="id" title="var">matcher</span> <span class="id" title="tactic">idtac</span>.<br/>

<br/>
</div>

<div class="doc">
matches anything whose type has a <span class="inlinecode"><a class="idref" href="HoTT.categories.LaxComma.CoreLaws.html#LaxCommaCategory.lax_comma_category_parts.T"><span class="id" title="variable">T</span></a></span> in it 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_type_matcher</span> <span class="id" title="var">T</span> <span class="id" title="var">HT</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">T</span>] ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_type</span> <span class="id" title="var">T</span> := <span class="id" title="var">destruct_all_matches</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">destruct_type_matcher</span> <span class="id" title="var">T</span>).<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_type&acute;</span> <span class="id" title="var">T</span> := <span class="id" title="var">destruct_all_matches&acute;</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">destruct_type_matcher</span> <span class="id" title="var">T</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_head_matcher</span> <span class="id" title="var">T</span> <span class="id" title="var">HT</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">head</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">T</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_head</span> <span class="id" title="var">T</span> := <span class="id" title="var">destruct_all_matches</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">destruct_head_matcher</span> <span class="id" title="var">T</span>).<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_head&acute;</span> <span class="id" title="var">T</span> := <span class="id" title="var">destruct_all_matches&acute;</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">destruct_head_matcher</span> <span class="id" title="var">T</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_head_hnf_matcher</span> <span class="id" title="var">T</span> <span class="id" title="var">HT</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">head_hnf</span> <span class="id" title="var">HT</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">T</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_head_hnf</span> <span class="id" title="var">T</span> := <span class="id" title="var">destruct_all_matches</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">destruct_head_hnf_matcher</span> <span class="id" title="var">T</span>).<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_head_hnf&acute;</span> <span class="id" title="var">T</span> := <span class="id" title="var">destruct_all_matches&acute;</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">destruct_head_hnf_matcher</span> <span class="id" title="var">T</span>).<br/>

<br/>
</div>

<div class="doc">
Turns a context object, obtained via, e.g., <span class="inlinecode"><span class="id" title="keyword">match</span></span> <span class="inlinecode"><span class="id" title="keyword">goal</span></span> <span class="inlinecode"><span class="id" title="keyword">with</span></span> <span class="inlinecode">|-</span> <span class="inlinecode"><span class="id" title="keyword">context</span></span> <span class="inlinecode"><a class="idref" href="HoTT.categories.Adjoint.Pointwise.html#AdjointPointwise.r.G"><span class="id" title="variable">G</span></a>[...]</span> <span class="inlinecode">⇒</span> <span class="inlinecode">...</span> <span class="inlinecode"><span class="id" title="keyword">end</span></span>, into a lambda / gallina function. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">context_to_lambda</span> <span class="id" title="var">G</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ret</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">k</span> := <a class="idref" href="HoTT.Tactics.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(<span class="id" title="keyword">let</span> <span class="id" title="var">ret</span> := <span class="id" title="keyword">context</span> <span class="id" title="var">G</span>[<span class="id" title="var">k</span>] <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">ret</span>)$) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;(<span class="id" title="tactic">eval</span> <span class="id" title="tactic">cbv</span> <span class="id" title="keyword">zeta</span> <span class="id" title="keyword">in</span> <span class="id" title="var">ret</span>).<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>